<html>
<HEAD>
<TITLE>Login page</TITLE>
</HEAD>
<body bgcolor="#e7e7e7">

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">


var id = "yc14e";
var sandbox = "binder-sandbox";


function LaunchPrivate()
{
	var repoName= document.isFormPrivate.repoName.value;
	var password = document.isFormPrivate.password.value;
	
	// token is encrypted like this: alert(CryptoJS.AES.encrypt(MY_TOKEN, MY_PASSWORD));
	
	var decrypted = CryptoJS.AES.decrypt("U2FsdGVkX19KmSf4sEooOtmk/5Z9xaw243+XGY3wkYd1aRlWqzu+BjiEu2SDFL0m0S6R6HIrgJHMGR9v358CgA==", password)
	var token = decrypted.toString(CryptoJS.enc.Utf8);

	var url = "https://mybinder.org/v2/gh/" 
		+ id + "/" + sandbox 
		+ "/master?urlpath=git-pull?repo=https://" 
		+ token 
		+ "@github.com/" 
		+ id + "/" + repoName
		+ "%26amp%3Bbranch=master%26amp%3Burlpath=lab/tree/" 
		+ repoName + "?autodecode";

	window.open(url, "_self"); 
}

function LaunchPublic()
{
	var repoName= document.isFormPublic.repoName.value;
	var url = "https://mybinder.org/v2/gh/" 
		+ id + "/" + sandbox + 
		"/master?urlpath=git-pull?repo=https://github.com/" 
		+ id + "/" + repoName + 
		"%26amp%3Bbranch=master%26amp%3Burlpath=lab/tree/misc?Fautodecode";

	window.open(url, "_self"); 	
}

</script>
<center>


<form name="title">
<p><B>Launch in a Could Workspace</B></p>
</form>


<form name="isFormPublic">
<p><B>Public Repository: </B></p>
<table border=0>
<tr>
<td>Repository name</td>
<td><input name="repoName" value=""></td>
</tr>
</table>						
<p>
<input type=button name="go" value="Launch" onClick="LaunchPublic();return true;">
</p>					
</form>



<form name="isFormPrivate">
<p><B>Private Repository: </B></p>
<table border=0>
<tr>
<td>Repository name</td>
<td><input name="repoName" value=""></td>
</tr>
<tr>
<td>Github password</td>
<td><input type="password", name="password" value=""></td>
</tr>
</table>						
<p>
<input type=button name="go" value="Launch" onClick="LaunchPrivate();return true;">
</p>					
</form>

 
</center>
</body>
</html>
